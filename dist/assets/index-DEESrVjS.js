import{c as i,a as l,j as t,r as d,S as u}from"./shield-Cc4tPNbJ.js";import{f as m}from"./vault-BiPFcfT_.js";(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))a(e);new MutationObserver(e=>{for(const r of e)if(r.type==="childList")for(const c of r.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&a(c)}).observe(document,{childList:!0,subtree:!0});function n(e){const r={};return e.integrity&&(r.integrity=e.integrity),e.referrerPolicy&&(r.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?r.credentials="include":e.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function a(e){if(e.ep)return;e.ep=!0;const r=n(e);fetch(e.href,r)}})();/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p=i("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f=i("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y=i("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]),h=()=>{const[o,s]=d.useState("idle"),n=async()=>{s("loading");try{const[e]=await chrome.tabs.query({active:!0,currentWindow:!0});if(!e)throw new Error("No active tab");chrome.runtime.sendMessage({action:"ACTIVATE_AEGIS",tabId:e.id},r=>{s("active")})}catch(e){console.error(e),s("error")}},a=async()=>{s("decrypting");const e=await m(),[r]=await chrome.tabs.query({active:!0,currentWindow:!0});chrome.tabs.sendMessage(r.id,{action:"MOUNT_OVERLAY",data:e}),window.close()};return t.jsxs("div",{className:"w-80 bg-neutral-900 text-white p-4 font-sans",children:[t.jsxs("div",{className:"flex items-center gap-2 mb-6 border-b border-neutral-800 pb-4",children:[t.jsx(u,{className:"text-emerald-500",size:24}),t.jsxs("div",{children:[t.jsx("h1",{className:"font-bold text-lg",children:"Project Aegis"}),t.jsx("p",{className:"text-xs text-neutral-500",children:"Sovereign Memory Layer v1.0"})]})]}),t.jsxs("div",{className:"space-y-3",children:[t.jsx("button",{onClick:n,disabled:o==="active",className:"w-full flex items-center justify-center gap-2 bg-neutral-800 hover:bg-neutral-700 py-3 rounded text-sm font-medium transition-colors border border-neutral-700",children:o==="active"?t.jsx("span",{className:"text-emerald-500 flex items-center gap-2",children:"‚óè Interceptor Active"}):t.jsxs(t.Fragment,{children:[t.jsx(y,{size:16})," Activate Interceptor"]})}),t.jsxs("button",{onClick:a,className:"w-full flex items-center justify-center gap-2 bg-emerald-600 hover:bg-emerald-700 py-3 rounded text-sm font-medium transition-colors text-black",children:[t.jsx(f,{size:16})," Resurrect History"]})]}),t.jsxs("div",{className:"mt-6 p-3 bg-neutral-950 rounded border border-neutral-800 text-xs text-neutral-400 flex gap-2",children:[t.jsx(p,{size:14,className:"shrink-0 text-amber-500"}),t.jsx("p",{children:"Data is encrypted with AES-GCM and stored locally. Server deletion commands are ignored."})]})]})},x=l(document.getElementById("root"));x.render(t.jsx(h,{}));
